# 建立TCP连接的前奏
     seq序号：用来标识TCP源端向目的端发送的字节流，发起方发送数据时对此进行标记
     ack确认序号：只有ACK标志位为1时 确认序号才有效 ack=seq+1
     标志为：
       + ACK 确认序号有效
       + RST：重置连接
       + SYN：发起一个新的连接
       + FIN：释放一个连接

          浏览器输入地址 经过DNS解析出IP 
   第一次握手：客户端向服务端发送请求 将SYN=1，产生随机 seq=x ，
              并进入SYN-SEND状态(等待服务器确认状态)
   第二次握手：服务器收到来自客户端的请求包 SYN=1，同时将ACK=1，ack=x+1 ，产生随机序号seq=y
              服务器进入 SYN-RECEIVED (请求接受并等待客户端确认)
   第三次握手：客户端进入连接建立状态， 确认客户端已收到建立连接的确认  ACK=1，ack=y+1 ，
              产生随机序号seq=x，服务端进入连接已建立状态 。进行数据交互。                          
   总结：请求-应答的模式。双方互相确认身份并约定建议连接。        


#  TCP三次握手  
    在拿到外网IP后，开始建立客户端和服务器链接的通道'TCP通道'。
     TCP：稳定的网络通讯协议。「图稳定」三次握手就是为了建立稳定的传输通道
     UDP：不稳定的网络通讯协议「没有三次握手」，图速度快，不需要确定稳不稳定，客户端是否收到。
          用于音视频传输

      1. 客户端发情连接信号。 SYN=1 发起一个连接请求，seq=x 携带一个序号x (等待服务器确认状态)
      2. 服务器收到连接信号。 SYN=1 也发起一个连接请求，ack=x+1 把传来的x序号+1返回，再传递ACK=1 表示确认收到来客户端
         的连接信号，再给客户端传递一个新的序号 seq=y (请求接受并等待客户端确认)
      3. 客户端收到服务器连接信号。发送ACK=1 确认收到来服务器发来的连接信号，ack=y+1 把服务器传来的序号+1返回，
         seq=x+1 再把自己的序号+1返传递给服务器  (客户端进入连接建立状态，服务端进入连接已建立状态 。进行数据交互) 
  
   1. 客户端：服务器我要发请求了 你准备好了么？
   2. 服务器：我准备好了
   3. 客户端：好的，我知道了

   三次握手：
     就是客户端/服务器之前三次确认是否在线的过程，客户端向服务器询问’我要发请求了 你准备好了么‘，
     「这是第一次」。服务器收到说‘我准备好了’ 「这是第二次」，必须告诉客户端 因为客户端并不知道第一次发
     出的询问服务器是否收到。客户端收到服务器确认的消息后再告诉服务器‘好的，我知道了’ 「这是第三次」。
   
   为什么需要三次握手：  
     必须要有第三次 因为服务器并不知道客户端是否收到了第二次服务器的确认消息。
     三次刚好确认了通道稳定，没有必要再多一次，也不能少一次。


#  TCP四次挥手  
     TCP四次挥手：断开TCP连接通道

     四次挥手：
       在三次握手建立好TCP通道之后，客户端给服务器发送请求内容，服务器拿到客服端的请求消息之后
       开始四次挥手，释放一个连接通道。
       1. 客户端说我把请求内容都给你了，我准备关闭连接通道了，「这是第一次」。 
       2. 服务器收到两个信息，一个是客户端请求的内容信息，一个是客户端要关闭连接通道的信息。
          那么服务器就要开始准备客户端想要的东西了，但是需要时间。如果不告诉客户端 那么客户端就
          傻眼了 就会疑问服务器到底有没有收到我们消息呢？所以服务器一方面要去准备返回的响应内容，
          另一方面要立即告诉客户端‘我收到了你的请求消息，正在为你准备内容，你稍等...’「这是第二次」
       3. 服务器返回响应内容放入同时告诉客户端‘东西给你了，我也要关闭连接通道了’，「这是第三次」
       4. 客户端在拿到服务器返回的东西后，告诉服务器‘我收到了，咱们关闭连接把，合作愉快...’「这是第四次」
     
     为什么四次挥手：
        客户端把请求内容给服务器之后，告诉服务器‘我要关闭了’，服务器去准备返回内容需要时间，这段时间
        如果服务器不给客户端任何应答的话 客户端会很迷糊 不知道服务器有没有收到我的请求。所以在收到客
        户端请求后会立即给客户端 一个响应告诉客户端‘我正在准备东西 你稍等’，这样客户端就不至于迷糊了。
        所以需要四次。 