
# vue2和vue3 响应式数据的区别

  响应式数据 和 双向绑定 是两个概念
    - 响应式数据：数据改变了通知我，数据改变驱动视图改变，是单向的
    - 双向绑定：是双向的，视图反过来也可以改变数据。也就是说响应式是双向绑定的一环

  vue2 :
    - 使用 Object.defineProperty 劫持数据(只会劫持已存在的属性)
      对象递归劫持，get对象重写 get 和 set 方法。
      数组重写方法  
    - 使用 Vue.set 来给对象新增一个属性时，这个对象的所有 watcher 都会重新执行。
      3.x 版本中，只有依赖那个属性的 watcher 才会重新运行。
    - Object.defineProperty 拦截的是对象的属性，会改变原对象     

  vue3：
    - 使用 proxy 实现响应式数据，可以代理不存在的属性。支持数据劫持，不需要重写数组方法
    - 默认不递归代理所有属性，只代理第一层，只要当取值的时候才递归代理，是一个
      懒递归(代理)  
    - proxy 是拦截整个对象，通过 new 生成一个新对象，不会改变原对象  
  
  vue2 源码实现响应式数据过程：
    1. initState() 取出data属性上的数据，observe(data) => new Observer()数据
       和对象分别监控。
    2. 是对象执行 walk() 循环对象属性 使用 defineReactive()方法把对象每个属性
       通过 Object.defineProperty 处理。
  
   