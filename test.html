<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Document</title>
</head>

<body></body>

</html>
<script>

  function deepClone(obj, cache = []) {
    if (obj == null) return obj
    if (obj instanceof RegExp) return new RegExp(obj)
    if (obj instanceof Date) return new Date(obj)
    if (typeof obj !== 'object') return obj
    if (cache.includes(obj)) return obj
    let cloneObj = {}
    cache.push(obj)
    for (let key in obj) {
      if (obj.hasOwnProperty(key)) {
        cloneObj[key] = deepClone(obj[key], cache)
      }
    }
    return cloneObj
  }

  let obj = { name: 'wade', address: { x: 100, y: 200 } }
  obj.o = obj // 死循环 自己引用自己
  let o = deepClone(obj)
  obj.name = 'lbj'
  obj.address.x = 300
  console.log(obj) // { name: 'lbj', address: { x: 300, y: 200 } }
  console.log(o) // { name: 'wade', address: { x: 100, y: 200 } }

</script>